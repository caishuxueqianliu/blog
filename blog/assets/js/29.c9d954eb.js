(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{696:function(s,e,n){"use strict";n.r(e);var r=n(3),a=Object(r.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"express使用https服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#express使用https服务"}},[s._v("#")]),s._v(" express使用https服务")]),s._v(" "),n("h2",{attrs:{id:"证书"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#证书"}},[s._v("#")]),s._v(" 证书")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\t//生成CA私钥\n    $ openssl genrsa -out ca.key 1024\n    //生成csr文件\n    $ openssl req -new -key ca.key -out ca.csr\n    //生成自签名证书\n    $ openssl x509 -req -in ca.csr -signkey ca.key -out ca.crt\n    //生成server.csr文件\n    $ openssl req -new -key server.key -out server.csr\n    //生成带有ca签名的证书\n    $ openssl x509 -req -CA ca.crt -CAkey ca.key -CAcreateserial -in server.csr -out server.crt\n    ```\n## 使用\n``` js\nvar https = require('https');\nvar http = require('http');\nvar fs = require('fs');\n\n//同步读取密钥和签名证书\nvar options = {\n    key:fs.readFileSync('./keys/server.key'),\n    cert:fs.readFileSync('./keys/server.crt')\n};\nvar app = express();\nvar httpsServer = https.createServer(options,app);\nvar httpServer = http.createServer(app);\n\napp.get('/',function(req,res,next){\n    res.send('Hello Express+https');\n});\n//https监听3000端口\nhttpsServer.listen(3000);\n//http监听3001端口\nhttpServer.listen(3001);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br")])])])}),[],!1,null,null,null);e.default=a.exports}}]);